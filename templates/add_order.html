<form method="POST">
  <label>Numer zlecenia:</label>
  <input type="text" name="numer_glowny" required class="w-full mb-4 border px-3 py-2 rounded">

  <label>Klient:</label>
  <input type="text" name="klient" required class="w-full mb-4 border px-3 py-2 rounded">

  <label>Opis:</label>
  <textarea name="opis" class="w-full mb-4 border px-3 py-2 rounded"></textarea>

  <label>Etapy:</label>
  <div class="grid grid-cols-2 mb-4 gap-2">
    {% for etap in etapy %}
      <label><input type="checkbox" name="etapy_niezbedne" value="{{ etap }}"> {{ etap }}</label>
    {% endfor %}
  </div>

  <label>Zapotrzebowanie na papier:</label>
  <div id="papier-list" class="mb-4">
    <input list="papiery" name="papier" class="w-full mb-2 border px-3 py-2 rounded">
  </div>
  <datalist id="papiery">
    {% for p in papiery %}
      <option value="{{ p }}">
    {% endfor %}
  </datalist>
  <button type="button" onclick="addPapier()">+ Dodaj papier</button>

  <label class="block mt-4">Uwagi:</label>
  <textarea name="uwagi" class="w-full mb-4 border px-3 py-2 rounded"></textarea>

  <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded">Zapisz zlecenie</button>
</form>

<script>
function addPapier() {
  const wrapper = document.getElementById('papier-list');
  const input = document.createElement('input');
  input.name = 'papier';
  input.setAttribute('list', 'papiery');
  input.className = 'w-full mb-2 border px-3 py-2 rounded';
  wrapper.appendChild(input);
}
</script>
